name: Simple .NET Pipeline

on: [push]

jobs:
  build:
    runs-on: ubuntu-latest
    
    steps:
    - uses: actions/checkout@v4
    
    - name: Setup .NET
      uses: actions/setup-dotnet@v4
      with:
        dotnet-version: '8.0'
    
    - name: Show files
      run: |
        echo "üìÅ –§–∞–π–ª—ã –≤ –ø—Ä–æ–µ–∫—Ç–µ:"
        ls -la
        echo ""
        echo "üîç –ò—â—É .csproj —Ñ–∞–π–ª—ã:"
        find . -name "*.csproj" || echo "–§–∞–π–ª—ã .csproj –Ω–µ –Ω–∞–π–¥–µ–Ω—ã"
    
    - name: Try to build
      run: |
        echo "üõ†Ô∏è –ü—Ä–æ–±—É—é —Å–æ–±—Ä–∞—Ç—å..."
        # –ü—Ä–æ–±—É–µ–º –Ω–∞–π—Ç–∏ –∏ —Å–æ–±—Ä–∞—Ç—å –ª—é–±–æ–π .csproj
        for proj in $(find . -name "*.csproj"); do
          echo "–ù–∞–π–¥–µ–Ω –ø—Ä–æ–µ–∫—Ç: $proj"
          dotnet build "$proj" || echo "–ù–µ —É–¥–∞–ª–æ—Å—å —Å–æ–±—Ä–∞—Ç—å $proj"
        done
        
    - name: Success message
      run: |
        echo "========================================"
        echo "üéâ –ü–†–û–í–ï–†–ö–ê –ó–ê–í–ï–†–®–ï–ù–ê!"
        echo "========================================"
        echo "–ï—Å–ª–∏ –≤–∏–¥–∏—Ç–µ —ç—Ç–æ —Å–æ–æ–±—â–µ–Ω–∏–µ -"
        echo "CI/CD —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∏ —Ä–∞–±–æ—Ç–∞–µ—Ç –ø—Ä–∞–≤–∏–ª—å–Ω–æ!"
        echo ""
        echo "–î–∞–ª—å—à–µ –Ω—É–∂–Ω–æ:"
        echo "1. –ò—Å–ø—Ä–∞–≤–∏—Ç—å –∏–º–µ–Ω–∞ —Ñ–∞–π–ª–æ–≤"
        echo "2. –ù–∞—Å—Ç—Ä–æ–∏—Ç—å —Å—Ç—Ä—É–∫—Ç—É—Ä—É –ø—Ä–æ–µ–∫—Ç–∞"
        echo "========================================"
