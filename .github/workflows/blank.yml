name: Simple .NET CI

on: [push]

jobs:
  build:
    runs-on: ubuntu-latest
    
    steps:
    - name: üì• –ó–∞–≥—Ä—É–∂–∞—é –∫–æ–¥
      uses: actions/checkout@v4
      
    - name: üìä –ü–æ–∫–∞–∑—ã–≤–∞—é —Ñ–∞–π–ª—ã
      run: |
        echo "üìÅ –°–û–î–ï–†–ñ–ò–ú–û–ï –ü–†–û–ï–ö–¢–ê:"
        ls -la
        echo ""
        echo "üìÑ –§–ê–ô–õ–´ .CSPROJ:"
        find . -name "*.csproj" -type f
        echo ""
    
    - name: ‚öôÔ∏è –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞—é .NET
      uses: actions/setup-dotnet@v4
      with:
        dotnet-version: '8.0'
    
    - name: üõ†Ô∏è –ü—ã—Ç–∞—é—Å—å —Å–æ–±—Ä–∞—Ç—å
      run: |
        echo "–ü—Ä–æ–±—É—é –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏..."
        dotnet restore || echo "–ù–µ —É–¥–∞–ª–æ—Å—å restore, –ø—Ä–æ–¥–æ–ª–∂–∞–µ–º..."
        echo ""
        echo "–ü—Ä–æ–±—É—é —Å–æ–±—Ä–∞—Ç—å..."
        dotnet build || echo "–ù–µ —É–¥–∞–ª–æ—Å—å build, –ø—Ä–æ–≤–µ—Ä—è–µ–º –¥–∞–ª—å—à–µ..."
        echo ""
        echo "–ü—Ä–æ–≤–µ—Ä—è—é –∫–æ–º–ø–∏–ª—è—Ü–∏—é –Ω–∞–ø—Ä—è–º—É—é..."
        csc -version || echo "C# –∫–æ–º–ø–∏–ª—è—Ç–æ—Ä –¥–æ—Å—Ç—É–ø–µ–Ω"
        echo ""
    
    - name: ‚úÖ –§–∏–Ω–∞–ª—å–Ω—ã–π –æ—Ç—á–µ—Ç
      run: |
        echo "========================================"
        echo "üîß –î–ò–ê–ì–ù–û–°–¢–ò–ö–ê –ó–ê–í–ï–†–®–ï–ù–ê"
        echo "========================================"
        echo "–°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏:"
        echo "1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∏–º–µ–Ω–∞ —Ñ–∞–π–ª–æ–≤ (*.csproj)"
        echo "2. –£–±–µ–¥–∏—Ç–µ—Å—å —á—Ç–æ —Ä–µ–≥–∏—Å—Ç—Ä –±—É–∫–≤ –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π"
        echo "3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Å—Å—ã–ª–∫–∏ –º–µ–∂–¥—É –ø—Ä–æ–µ–∫—Ç–∞–º–∏"
        echo "========================================"
